<html ng-app="phoneList">
  <head>
      <meta charset="utf-8">
      <title>Phone List</title>
      <link rel="stylesheet" type="text/css" href="lib/bootstrap/bootstrap.css">

      <style>

        .jumbotron {
            width: 400px;
            text-align: center;
            margin-top: 20px;
            margin-left: auto;
            margin-right: auto;
        }

        .table {
          margin-top: 20px;
        }

        .form-control {
          margin-top: 5px;
        }

        .selected {
          background-color: yellow;
        }

        .bold {
          font-weight: bold;
        }

      </style>

      <script src="lib/angular/angular.js"></script>
      <script>

          angular.module("phoneList", []); //Cria o módulo
          angular.module("phoneList").controller("phoneListCtrl", function ($scope){
              $scope.app = "Phone List";
              $scope.contacts = [
                  {name: "Bruno",  phone: "94147667", color: "orange"},
                  {name: "Bruna",  phone: "81049781", color: "green"},
                  {name: "Daniel", phone: "84470884", color: "red"},
              ];

              $scope.carriers = [
                  {name: "Oi",    code: "14", category: "Cell"},
                  {name: "Vivo",  code: "15", category: "Cell"},
                  {name: "Tim",   code: "41", category: "Cell"},
                  {name: "Claro", code: "36", category: "Cell"},
                  {name: "NET",   code: "00", category: "Fixed"},
                  {name: "GVT",   code: "21", category: "Fixed"},
              ];

              $scope.addContant = function(contact) {
                $scope.contacts.push(contact);
                delete $scope.contact;
              };

              $scope.isContactSelected = function(contacts) {
                return contacts.some(function (contact) {
                  return contact.selected;
                });
              };

              $scope.deleteContacts = function(contacts) {
                  $scope.contacts = contacts.filter(function (contact) {
                      if (!contact.selected) {
                        return contact;
                      }
                  });
              }
          })

      </script>

  </head>
  <body ng-controller="phoneListCtrl">
      <div class="jumbotron">
          <h3>{{app}}</h3>
          <table ng-show="contacts.length > 0" class="table">
              <tr>
                  <th>Select</th>
                  <th>Name</th>
                  <th>Phone</th>
                  <th>Carrier</th>
                  <th></th>
              </tr>
              <tr ng-class="{selected: contact.selected, bold: contact.selected}" ng-repeat="contact in contacts">
                  <td><input type="checkbox" ng-model="contact.selected"></td>
                  <td>{{contact.name}}</td>
                  <td>{{contact.phone}}</td>
                  <td>{{contact.carrier.name}}</td>
                  <td><div style="width: 20px; height: 20px; background-color: yellow;" ng-style="{'background-color': contact.color}"></div></td>
              </tr>
          </table>

          Form é válido - {{contactForm.$valid}}

          <form name="contactForm">
              <input class="form-control" type="text" ng-model="contact.name" placeholder="Name" ng-required="true"/>
              <input class="form-control" type="text" ng-model="contact.phone" placeholder="Phone"/>
              <select class="form-control" ng-model="contact.carrier" ng-options="carrier.name group by carrier.category for carrier in carriers">
                  <option value="">Select a carrier</option>
              </select>
          </form>

          <button class="btn btn-primary btn-block" ng-click="addContant(contact)" ng-disabled="!contact.name || !contact.phone">Add Contact</button>
          <button class="btn btn-danger btn-block" ng-click="deleteContacts(contacts)" ng-hide="!isContactSelected(contacts)">Deletect Contacts</button>
      </div>
      <!--Não funciona no chrome utilizando o file para executar a página
      <div ng-include="'footer.html'">
      </div>-->
  </body>
</html>
